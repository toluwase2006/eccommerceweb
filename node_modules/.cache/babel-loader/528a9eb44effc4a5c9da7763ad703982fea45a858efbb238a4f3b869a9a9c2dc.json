{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\ecormmerceweb\\\\eccommerce\\\\src\\\\context\\\\userContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useNavigate } from \"react-router-dom\";\nimport firstTrouser from '../productsassets/download (1).jpeg';\nimport firstShirt from '../productsassets/download (2).jpeg';\nimport firstWristWatch from '../productsassets/download.webp';\nimport firstShoes from '../productsassets/download (3).jpeg';\nimport firstElectronics from '../productsassets/download (4).jpeg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const UserContext = /*#__PURE__*/createContext(null);\nconst UserProvider = ({\n  children\n}) => {\n  _s();\n  const [user, setUser] = useState(null);\n  const [carts, setToCart] = useState([]);\n  const navigate = useNavigate();\n  const baseUrl = \"http://localhost:5000/users\";\n  const [products] = useState([{\n    id: 1,\n    imgSrc: firstTrouser,\n    category: 'trouser',\n    price: 20\n  }, {\n    id: 2,\n    imgSrc: firstShirt,\n    category: 'shirt',\n    price: 34\n  }, {\n    id: 3,\n    imgSrc: firstWristWatch,\n    category: 'wristwatch',\n    price: 45\n  }, {\n    id: 4,\n    imgSrc: firstShoes,\n    category: 'shoe',\n    price: 56\n  }, {\n    id: 5,\n    imgSrc: firstElectronics,\n    category: 'electronic',\n    price: 100\n  }]);\n  function loginUser(name, password) {\n    fetch(baseUrl).then(res => res.json()).then(users => {\n      const user = users.find(user => user.name === name && user.password === password);\n      if (user) {\n        setUser(user);\n        toast.success(`Welcome ${user.name}!`, {\n          toastId: \"2\"\n        }, {\n          duration: \"1000\"\n        });\n        navigate('/');\n      } else {\n        toast.error(\"Invalid credentials!\", {\n          toastId: \"3\"\n        }, {\n          duration: \"1000\"\n        });\n      }\n    });\n  }\n  const addToCart = product => {\n    setToCart(prevCarts => {\n      // Check if the product already exists in the cart\n      const existingProduct = prevCarts.find(item => item.id === product.id);\n      if (existingProduct) {\n        // Update the quantity of the existing product\n        return prevCarts.map(item => item.id === product.id ? {\n          ...item,\n          quantity: item.quantity + 1\n        } : item);\n      } else {\n        // Add the new product to the cart with a quantity of 1\n        return [...prevCarts, {\n          ...product,\n          quantity: 1\n        }];\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      user,\n      carts,\n      products,\n      loginUser,\n      setUser,\n      setToCart,\n      addToCart\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(UserProvider, \"/B0QkMOa+lmNp7GCuzQMw9XM/0I=\", false, function () {\n  return [useNavigate];\n});\n_c = UserProvider;\nexport default UserProvider;\nvar _c;\n$RefreshReg$(_c, \"UserProvider\");","map":{"version":3,"names":["createContext","useState","toast","useNavigate","firstTrouser","firstShirt","firstWristWatch","firstShoes","firstElectronics","jsxDEV","_jsxDEV","UserContext","UserProvider","children","_s","user","setUser","carts","setToCart","navigate","baseUrl","products","id","imgSrc","category","price","loginUser","name","password","fetch","then","res","json","users","find","success","toastId","duration","error","addToCart","product","prevCarts","existingProduct","item","map","quantity","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/ecormmerceweb/eccommerce/src/context/userContext.js"],"sourcesContent":["import { createContext, useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport firstTrouser from '../productsassets/download (1).jpeg';\r\nimport firstShirt from '../productsassets/download (2).jpeg';\r\nimport firstWristWatch from '../productsassets/download.webp';\r\nimport firstShoes from '../productsassets/download (3).jpeg';\r\nimport firstElectronics from '../productsassets/download (4).jpeg';\r\n\r\nexport const UserContext = createContext(null);\r\n\r\nconst UserProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [carts, setToCart] = useState([]);\r\n  const navigate = useNavigate();\r\n  const baseUrl = \"http://localhost:5000/users\";\r\n  \r\n  const [products] = useState([\r\n    { id: 1, \r\n      imgSrc: firstTrouser, \r\n      category: 'trouser', \r\n      price: 20 \r\n    },\r\n    { id: 2, \r\n      imgSrc: firstShirt, \r\n      category: 'shirt', price: 34 },\r\n    { id: 3, imgSrc: firstWristWatch, category: 'wristwatch', price: 45 },\r\n    { id: 4, imgSrc: firstShoes, category: 'shoe', price: 56 },\r\n    { id: 5, imgSrc: firstElectronics, category: 'electronic', price: 100 },\r\n  ]);\r\n\r\n  function loginUser(name, password) {\r\n    fetch(baseUrl)\r\n      .then((res) => res.json())\r\n      .then((users) => {\r\n        const user = users.find((user) => user.name === name && user.password === password);\r\n        if (user) {\r\n          setUser(user);\r\n          toast.success(`Welcome ${user.name}!`, { toastId: \"2\" }, { duration: \"1000\" });\r\n          navigate('/');\r\n        } else {\r\n          toast.error(\"Invalid credentials!\", { toastId: \"3\" }, { duration: \"1000\" });\r\n        }\r\n      });\r\n  }\r\n\r\n  const addToCart = (product) => {\r\n    setToCart((prevCarts) => {\r\n      // Check if the product already exists in the cart\r\n      const existingProduct = prevCarts.find((item) => item.id === product.id);\r\n      \r\n      if (existingProduct) {\r\n        // Update the quantity of the existing product\r\n        return prevCarts.map((item) => \r\n          item.id === product.id ? { ...item, quantity: item.quantity + 1 } : item\r\n        );\r\n      } else {\r\n        // Add the new product to the cart with a quantity of 1\r\n        return [...prevCarts, { ...product, quantity: 1 }];\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <UserContext.Provider\r\n      value={{\r\n        user,\r\n        carts,\r\n        products,\r\n        loginUser,\r\n        setUser,\r\n        setToCart,\r\n        addToCart,\r\n      }}\r\n    >\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n};\r\n\r\nexport default UserProvider;\r\n"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,QAAQ,QAAQ,OAAO;AAC/C,SAASC,KAAK,QAAQ,gBAAgB;AACtC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,YAAY,MAAM,qCAAqC;AAC9D,OAAOC,UAAU,MAAM,qCAAqC;AAC5D,OAAOC,eAAe,MAAM,iCAAiC;AAC7D,OAAOC,UAAU,MAAM,qCAAqC;AAC5D,OAAOC,gBAAgB,MAAM,qCAAqC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnE,OAAO,MAAMC,WAAW,gBAAGX,aAAa,CAAC,IAAI,CAAC;AAE9C,MAAMY,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACrC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACgB,KAAK,EAAEC,SAAS,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EACvC,MAAMkB,QAAQ,GAAGhB,WAAW,CAAC,CAAC;EAC9B,MAAMiB,OAAO,GAAG,6BAA6B;EAE7C,MAAM,CAACC,QAAQ,CAAC,GAAGpB,QAAQ,CAAC,CAC1B;IAAEqB,EAAE,EAAE,CAAC;IACLC,MAAM,EAAEnB,YAAY;IACpBoB,QAAQ,EAAE,SAAS;IACnBC,KAAK,EAAE;EACT,CAAC,EACD;IAAEH,EAAE,EAAE,CAAC;IACLC,MAAM,EAAElB,UAAU;IAClBmB,QAAQ,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAG,CAAC,EAChC;IAAEH,EAAE,EAAE,CAAC;IAAEC,MAAM,EAAEjB,eAAe;IAAEkB,QAAQ,EAAE,YAAY;IAAEC,KAAK,EAAE;EAAG,CAAC,EACrE;IAAEH,EAAE,EAAE,CAAC;IAAEC,MAAM,EAAEhB,UAAU;IAAEiB,QAAQ,EAAE,MAAM;IAAEC,KAAK,EAAE;EAAG,CAAC,EAC1D;IAAEH,EAAE,EAAE,CAAC;IAAEC,MAAM,EAAEf,gBAAgB;IAAEgB,QAAQ,EAAE,YAAY;IAAEC,KAAK,EAAE;EAAI,CAAC,CACxE,CAAC;EAEF,SAASC,SAASA,CAACC,IAAI,EAAEC,QAAQ,EAAE;IACjCC,KAAK,CAACT,OAAO,CAAC,CACXU,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEG,KAAK,IAAK;MACf,MAAMlB,IAAI,GAAGkB,KAAK,CAACC,IAAI,CAAEnB,IAAI,IAAKA,IAAI,CAACY,IAAI,KAAKA,IAAI,IAAIZ,IAAI,CAACa,QAAQ,KAAKA,QAAQ,CAAC;MACnF,IAAIb,IAAI,EAAE;QACRC,OAAO,CAACD,IAAI,CAAC;QACbb,KAAK,CAACiC,OAAO,CAAC,WAAWpB,IAAI,CAACY,IAAI,GAAG,EAAE;UAAES,OAAO,EAAE;QAAI,CAAC,EAAE;UAAEC,QAAQ,EAAE;QAAO,CAAC,CAAC;QAC9ElB,QAAQ,CAAC,GAAG,CAAC;MACf,CAAC,MAAM;QACLjB,KAAK,CAACoC,KAAK,CAAC,sBAAsB,EAAE;UAAEF,OAAO,EAAE;QAAI,CAAC,EAAE;UAAEC,QAAQ,EAAE;QAAO,CAAC,CAAC;MAC7E;IACF,CAAC,CAAC;EACN;EAEA,MAAME,SAAS,GAAIC,OAAO,IAAK;IAC7BtB,SAAS,CAAEuB,SAAS,IAAK;MACvB;MACA,MAAMC,eAAe,GAAGD,SAAS,CAACP,IAAI,CAAES,IAAI,IAAKA,IAAI,CAACrB,EAAE,KAAKkB,OAAO,CAAClB,EAAE,CAAC;MAExE,IAAIoB,eAAe,EAAE;QACnB;QACA,OAAOD,SAAS,CAACG,GAAG,CAAED,IAAI,IACxBA,IAAI,CAACrB,EAAE,KAAKkB,OAAO,CAAClB,EAAE,GAAG;UAAE,GAAGqB,IAAI;UAAEE,QAAQ,EAAEF,IAAI,CAACE,QAAQ,GAAG;QAAE,CAAC,GAAGF,IACtE,CAAC;MACH,CAAC,MAAM;QACL;QACA,OAAO,CAAC,GAAGF,SAAS,EAAE;UAAE,GAAGD,OAAO;UAAEK,QAAQ,EAAE;QAAE,CAAC,CAAC;MACpD;IACF,CAAC,CAAC;EACJ,CAAC;EAED,oBACEnC,OAAA,CAACC,WAAW,CAACmC,QAAQ;IACnBC,KAAK,EAAE;MACLhC,IAAI;MACJE,KAAK;MACLI,QAAQ;MACRK,SAAS;MACTV,OAAO;MACPE,SAAS;MACTqB;IACF,CAAE;IAAA1B,QAAA,EAEDA;EAAQ;IAAAmC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B,CAAC;AAACrC,EAAA,CAnEIF,YAAY;EAAA,QAGCT,WAAW;AAAA;AAAAiD,EAAA,GAHxBxC,YAAY;AAqElB,eAAeA,YAAY;AAAC,IAAAwC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}