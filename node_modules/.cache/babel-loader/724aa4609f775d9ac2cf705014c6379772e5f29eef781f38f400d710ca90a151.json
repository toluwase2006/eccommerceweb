{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useContext}from'react';import{UserContext}from'../context/userContext';import{Link,useNavigate}from'react-router-dom';import Loading from'../components/Loading';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Shop=()=>{const navigate=useNavigate();const[categoriesOpen,setCategoriesOpen]=useState(false);const{user,addToCart,products,carts}=useContext(UserContext);const[loading,setLoading]=useState(true);const[selectedCategory,setSelectedCategory]=useState('all');const categoriesSelect=category=>{setSelectedCategory(category);setCategoriesOpen(false);};const cartPage=()=>{navigate(\"/cart\");};const filteredProducts=selectedCategory==='all'?products:products.filter(product=>product.category===selectedCategory);useEffect(()=>{setTimeout(()=>{setLoading(false);},4000);},[]);useEffect(()=>{if(!user)navigate('/login');// eslint-disable-next-line\n},[user]);return/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex justify-between bg-white items-center sm:p-5 py-4 px-1 shadow-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-28\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex sm:text-xl text-sm items-center justify-center cursor-pointer gap-2\",onClick:()=>setCategoriesOpen(!categoriesOpen),children:[/*#__PURE__*/_jsx(\"p\",{children:\"Categories\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-caret-down\"})]}),categoriesOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center gap-1 py-3 transition-all z-10 duration-300 absolute left-5 top-30 rounded-md bg-gray-200 w-28\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hover:bg-slate-300 cursor-pointer px-5 w-full\",onClick:()=>categoriesSelect('all'),children:\"All\"}),/*#__PURE__*/_jsx(\"div\",{className:\"hover:bg-slate-300 cursor-pointer px-5 w-full\",onClick:()=>categoriesSelect('trouser'),children:\"Cloth\"}),/*#__PURE__*/_jsx(\"div\",{className:\"hover:bg-slate-300 cursor-pointer px-5 w-full\",onClick:()=>categoriesSelect('shoe'),children:\"Shoes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"hover:bg-slate-300 cursor-pointer px-5 w-full\",onClick:()=>categoriesSelect('wristwatch'),children:\"Watches\"}),/*#__PURE__*/_jsx(\"div\",{className:\"hover:bg-slate-300 cursor-pointer px-5 w-full\",onClick:()=>categoriesSelect('electronic'),children:\"Electronics\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-1/2 flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"bg-gray-200 sm:ps-5 ps-2 h-10 rounded-l-lg w-2/3\",placeholder:\"search products\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-magnifying-glass bg-gray-200 rounded-r-lg h-10 flex justify-center items-center p-2 cursor-pointer border-l-2 border-slate-300\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 cursor-pointer\",onClick:cartPage,children:[/*#__PURE__*/_jsx(Link,{children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-cart-shopping\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-5 h-5 border-2 text-sm font-bold flex justify-center items-center rounded-lg\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600\",children:carts===null||carts===void 0?void 0:carts.length})})]})]}),loading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4\",children:filteredProducts.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white w-full rounded-lg shadow-md h-80 p-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-48\",children:/*#__PURE__*/_jsx(\"img\",{src:product.imgSrc,alt:\"\",className:\"w-full h-full object-cover hover:scale-105 transition-transform\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mt-10\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-bold text-xl\",children:[\"$\",product.price]}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-gray-800 hover:bg-gray-600 text-sm sm:text-lg px-1 text-white py-1 rounded-sm w-28\",onClick:()=>addToCart(product),children:\"Add to Cart\"})]})]},product.id))})})]});};export default Shop;","map":{"version":3,"names":["React","useState","useEffect","useContext","UserContext","Link","useNavigate","Loading","jsx","_jsx","jsxs","_jsxs","Shop","navigate","categoriesOpen","setCategoriesOpen","user","addToCart","products","carts","loading","setLoading","selectedCategory","setSelectedCategory","categoriesSelect","category","cartPage","filteredProducts","filter","product","setTimeout","className","children","onClick","type","placeholder","length","map","src","imgSrc","alt","price","id"],"sources":["C:/Users/HP/Desktop/ecormmerceweb/eccommerce/src/pages/Shop.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useContext } from 'react';\r\nimport { UserContext } from '../context/userContext';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport Loading from '../components/Loading';\r\n\r\nconst Shop = () => {\r\n  const navigate = useNavigate();\r\n  const [categoriesOpen, setCategoriesOpen] = useState(false);\r\n  const { user, addToCart, products, carts } = useContext(UserContext);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedCategory, setSelectedCategory] = useState('all');\r\n\r\n  const categoriesSelect = (category) => {\r\n    setSelectedCategory(category);\r\n    setCategoriesOpen(false);\r\n  };\r\n\r\n  const cartPage = () => {\r\n    navigate(\"/cart\");\r\n  };\r\n\r\n  const filteredProducts = selectedCategory === 'all' ? products : products.filter(product => product.category === selectedCategory);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n    }, 4000);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!user) navigate('/login');\r\n    // eslint-disable-next-line\r\n  }, [user]);\r\n\r\n  return (\r\n    <div className=''>\r\n      <div className='relative flex justify-between bg-white items-center sm:p-5 py-4 px-1 shadow-lg'>\r\n        <div className='w-28'>\r\n          <div className='flex sm:text-xl text-sm items-center justify-center cursor-pointer gap-2' onClick={() => setCategoriesOpen(!categoriesOpen)}>\r\n            <p>Categories</p>\r\n            <i className=\"fa-solid fa-caret-down\"></i>\r\n          </div>\r\n          {categoriesOpen && (\r\n            <div className='flex flex-col items-center gap-1 py-3 transition-all z-10 duration-300 absolute left-5 top-30 rounded-md bg-gray-200 w-28'>\r\n              <div className='hover:bg-slate-300 cursor-pointer px-5 w-full' onClick={() => categoriesSelect('all')}>All</div>\r\n              <div className='hover:bg-slate-300 cursor-pointer px-5 w-full' onClick={() => categoriesSelect('trouser')}>Cloth</div>\r\n              <div className='hover:bg-slate-300 cursor-pointer px-5 w-full' onClick={() => categoriesSelect('shoe')}>Shoes</div>\r\n              <div className='hover:bg-slate-300 cursor-pointer px-5 w-full' onClick={() => categoriesSelect('wristwatch')}>Watches</div>\r\n              <div className='hover:bg-slate-300 cursor-pointer px-5 w-full' onClick={() => categoriesSelect('electronic')}>Electronics</div>\r\n            </div>\r\n          )} \r\n        </div>\r\n        <div className='w-1/2 flex items-center'>\r\n          <input type=\"text\" className='bg-gray-200 sm:ps-5 ps-2 h-10 rounded-l-lg w-2/3' placeholder='search products' />\r\n          <i className=\"fa-solid fa-magnifying-glass bg-gray-200 rounded-r-lg h-10 flex justify-center items-center p-2 cursor-pointer border-l-2 border-slate-300\"></i>\r\n        </div>\r\n        <div className='flex items-center gap-1 cursor-pointer' onClick={cartPage}>\r\n          <Link><i className=\"fa-solid fa-cart-shopping\"></i></Link>\r\n          <div className='w-5 h-5 border-2 text-sm font-bold flex justify-center items-center rounded-lg'>\r\n            <p className='text-red-600'>{carts?.length}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {loading ? <Loading /> :\r\n      <div className=\"p-4\">\r\n        <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4\">\r\n          {filteredProducts.map((product) => (\r\n            <div key={product.id} className=\"bg-white w-full rounded-lg shadow-md h-80 p-5\">\r\n              <div className=\"h-48\">\r\n                <img src={product.imgSrc} alt=\"\" className=\"w-full h-full object-cover hover:scale-105 transition-transform\" />\r\n              </div>\r\n              <div className=\"flex items-center justify-between mt-10\">\r\n                <p className='font-bold text-xl'>${product.price}</p>\r\n                <button className=\"bg-gray-800 hover:bg-gray-600 text-sm sm:text-lg px-1 text-white py-1 rounded-sm w-28\" onClick={() => addToCart(product)}>\r\n                  Add to Cart\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Shop;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,UAAU,KAAQ,OAAO,CAClC,OAASC,WAAW,KAAQ,wBAAwB,CACpD,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5C,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACjB,KAAM,CAAAC,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACQ,cAAc,CAAEC,iBAAiB,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAC3D,KAAM,CAAEe,IAAI,CAAEC,SAAS,CAAEC,QAAQ,CAAEC,KAAM,CAAC,CAAGhB,UAAU,CAACC,WAAW,CAAC,CACpE,KAAM,CAACgB,OAAO,CAAEC,UAAU,CAAC,CAAGpB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACqB,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGtB,QAAQ,CAAC,KAAK,CAAC,CAE/D,KAAM,CAAAuB,gBAAgB,CAAIC,QAAQ,EAAK,CACrCF,mBAAmB,CAACE,QAAQ,CAAC,CAC7BV,iBAAiB,CAAC,KAAK,CAAC,CAC1B,CAAC,CAED,KAAM,CAAAW,QAAQ,CAAGA,CAAA,GAAM,CACrBb,QAAQ,CAAC,OAAO,CAAC,CACnB,CAAC,CAED,KAAM,CAAAc,gBAAgB,CAAGL,gBAAgB,GAAK,KAAK,CAAGJ,QAAQ,CAAGA,QAAQ,CAACU,MAAM,CAACC,OAAO,EAAIA,OAAO,CAACJ,QAAQ,GAAKH,gBAAgB,CAAC,CAElIpB,SAAS,CAAC,IAAM,CACd4B,UAAU,CAAC,IAAM,CACfT,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAE,IAAI,CAAC,CACV,CAAC,CAAE,EAAE,CAAC,CAENnB,SAAS,CAAC,IAAM,CACd,GAAI,CAACc,IAAI,CAAEH,QAAQ,CAAC,QAAQ,CAAC,CAC7B;AACF,CAAC,CAAE,CAACG,IAAI,CAAC,CAAC,CAEV,mBACEL,KAAA,QAAKoB,SAAS,CAAC,EAAE,CAAAC,QAAA,eACfrB,KAAA,QAAKoB,SAAS,CAAC,gFAAgF,CAAAC,QAAA,eAC7FrB,KAAA,QAAKoB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBrB,KAAA,QAAKoB,SAAS,CAAC,0EAA0E,CAACE,OAAO,CAAEA,CAAA,GAAMlB,iBAAiB,CAAC,CAACD,cAAc,CAAE,CAAAkB,QAAA,eAC1IvB,IAAA,MAAAuB,QAAA,CAAG,YAAU,CAAG,CAAC,cACjBvB,IAAA,MAAGsB,SAAS,CAAC,wBAAwB,CAAI,CAAC,EACvC,CAAC,CACLjB,cAAc,eACbH,KAAA,QAAKoB,SAAS,CAAC,2HAA2H,CAAAC,QAAA,eACxIvB,IAAA,QAAKsB,SAAS,CAAC,+CAA+C,CAACE,OAAO,CAAEA,CAAA,GAAMT,gBAAgB,CAAC,KAAK,CAAE,CAAAQ,QAAA,CAAC,KAAG,CAAK,CAAC,cAChHvB,IAAA,QAAKsB,SAAS,CAAC,+CAA+C,CAACE,OAAO,CAAEA,CAAA,GAAMT,gBAAgB,CAAC,SAAS,CAAE,CAAAQ,QAAA,CAAC,OAAK,CAAK,CAAC,cACtHvB,IAAA,QAAKsB,SAAS,CAAC,+CAA+C,CAACE,OAAO,CAAEA,CAAA,GAAMT,gBAAgB,CAAC,MAAM,CAAE,CAAAQ,QAAA,CAAC,OAAK,CAAK,CAAC,cACnHvB,IAAA,QAAKsB,SAAS,CAAC,+CAA+C,CAACE,OAAO,CAAEA,CAAA,GAAMT,gBAAgB,CAAC,YAAY,CAAE,CAAAQ,QAAA,CAAC,SAAO,CAAK,CAAC,cAC3HvB,IAAA,QAAKsB,SAAS,CAAC,+CAA+C,CAACE,OAAO,CAAEA,CAAA,GAAMT,gBAAgB,CAAC,YAAY,CAAE,CAAAQ,QAAA,CAAC,aAAW,CAAK,CAAC,EAC5H,CACN,EACE,CAAC,cACNrB,KAAA,QAAKoB,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCvB,IAAA,UAAOyB,IAAI,CAAC,MAAM,CAACH,SAAS,CAAC,kDAAkD,CAACI,WAAW,CAAC,iBAAiB,CAAE,CAAC,cAChH1B,IAAA,MAAGsB,SAAS,CAAC,4IAA4I,CAAI,CAAC,EAC3J,CAAC,cACNpB,KAAA,QAAKoB,SAAS,CAAC,wCAAwC,CAACE,OAAO,CAAEP,QAAS,CAAAM,QAAA,eACxEvB,IAAA,CAACJ,IAAI,EAAA2B,QAAA,cAACvB,IAAA,MAAGsB,SAAS,CAAC,2BAA2B,CAAI,CAAC,CAAM,CAAC,cAC1DtB,IAAA,QAAKsB,SAAS,CAAC,gFAAgF,CAAAC,QAAA,cAC7FvB,IAAA,MAAGsB,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAEb,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEiB,MAAM,CAAI,CAAC,CAC5C,CAAC,EACH,CAAC,EACH,CAAC,CACLhB,OAAO,cAAGX,IAAA,CAACF,OAAO,GAAE,CAAC,cACtBE,IAAA,QAAKsB,SAAS,CAAC,KAAK,CAAAC,QAAA,cAClBvB,IAAA,QAAKsB,SAAS,CAAC,sDAAsD,CAAAC,QAAA,CAClEL,gBAAgB,CAACU,GAAG,CAAER,OAAO,eAC5BlB,KAAA,QAAsBoB,SAAS,CAAC,+CAA+C,CAAAC,QAAA,eAC7EvB,IAAA,QAAKsB,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnBvB,IAAA,QAAK6B,GAAG,CAAET,OAAO,CAACU,MAAO,CAACC,GAAG,CAAC,EAAE,CAACT,SAAS,CAAC,iEAAiE,CAAE,CAAC,CAC5G,CAAC,cACNpB,KAAA,QAAKoB,SAAS,CAAC,yCAAyC,CAAAC,QAAA,eACtDrB,KAAA,MAAGoB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,EAAC,GAAC,CAACH,OAAO,CAACY,KAAK,EAAI,CAAC,cACrDhC,IAAA,WAAQsB,SAAS,CAAC,uFAAuF,CAACE,OAAO,CAAEA,CAAA,GAAMhB,SAAS,CAACY,OAAO,CAAE,CAAAG,QAAA,CAAC,aAE7I,CAAQ,CAAC,EACN,CAAC,GATEH,OAAO,CAACa,EAUb,CACN,CAAC,CACC,CAAC,CACH,CAAC,EAEH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA9B,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}