{"ast":null,"code":"import{createContext,useState}from\"react\";import{toast}from\"react-toastify\";import{useNavigate}from\"react-router-dom\";import firstTrouser from'../productsassets/download (1).jpeg';import firstShirt from'../productsassets/download (2).jpeg';import firstWristWatch from'../productsassets/download.webp';import firstShoes from'../productsassets/download (3).jpeg';import firstElectronics from'../productsassets/download (4).jpeg';import{jsx as _jsx}from\"react/jsx-runtime\";export const UserContext=/*#__PURE__*/createContext(null);const UserProvider=_ref=>{let{children}=_ref;const[user,setUser]=useState(null);const[carts,setToCart]=useState([]);const navigate=useNavigate();const baseUrl=\"http://localhost:5000/users\";const[products]=useState([{id:1,imgSrc:firstTrouser,category:'trouser',price:20},{id:2,imgSrc:firstShirt,category:'shirt',price:34},{id:3,imgSrc:firstWristWatch,category:'wristwatch',price:45},{id:4,imgSrc:firstShoes,category:'shoe',price:56},{id:5,imgSrc:firstElectronics,category:'electronic',price:100}]);function loginUser(name,password){fetch(baseUrl).then(res=>res.json()).then(users=>{const user=users.find(user=>user.name===name&&user.password===password);if(user){setUser(user);toast.success(`Welcome ${user.name}!`,{toastId:\"2\"},{duration:\"1000\"});navigate('/');}else{toast.error(\"Invalid credentials!\",{toastId:\"3\"},{duration:\"1000\"});}});}const addToCart=product=>{setToCart(prevCarts=>{// Check if the product already exists in the cart\nconst existingProduct=prevCarts.find(item=>item.id===product.id);if(existingProduct){// Update the quantity of the existing product\nreturn prevCarts.map(item=>item.id===product.id?{...item,quantity:item.quantity+1}:item);}else{// Add the new product to the cart with a quantity of 1\nreturn[...prevCarts,{...product,quantity:1}];}});};return/*#__PURE__*/_jsx(UserContext.Provider,{value:{user,carts,products,loginUser,setUser,setToCart,addToCart},children:children});};export default UserProvider;","map":{"version":3,"names":["createContext","useState","toast","useNavigate","firstTrouser","firstShirt","firstWristWatch","firstShoes","firstElectronics","jsx","_jsx","UserContext","UserProvider","_ref","children","user","setUser","carts","setToCart","navigate","baseUrl","products","id","imgSrc","category","price","loginUser","name","password","fetch","then","res","json","users","find","success","toastId","duration","error","addToCart","product","prevCarts","existingProduct","item","map","quantity","Provider","value"],"sources":["C:/Users/HP/Desktop/ecormmerceweb/eccommerce/src/context/userContext.js"],"sourcesContent":["import { createContext, useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport firstTrouser from '../productsassets/download (1).jpeg';\r\nimport firstShirt from '../productsassets/download (2).jpeg';\r\nimport firstWristWatch from '../productsassets/download.webp';\r\nimport firstShoes from '../productsassets/download (3).jpeg';\r\nimport firstElectronics from '../productsassets/download (4).jpeg';\r\n\r\nexport const UserContext = createContext(null);\r\n\r\nconst UserProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [carts, setToCart] = useState([]);\r\n  const navigate = useNavigate();\r\n  const baseUrl = \"http://localhost:5000/users\";\r\n  \r\n  const [products] = useState([\r\n    { id: 1, \r\n      imgSrc: firstTrouser, \r\n      category: 'trouser', \r\n      price: 20 \r\n    },\r\n    { id: 2, \r\n      imgSrc: firstShirt, \r\n      category: 'shirt', \r\n      price: 34 \r\n    },\r\n    { id: 3, \r\n      imgSrc: firstWristWatch, \r\n      category: 'wristwatch', \r\n      price: 45 \r\n    },\r\n    { id: 4, \r\n      imgSrc: firstShoes, \r\n      category: 'shoe', \r\n      price: 56 \r\n    },\r\n    { id: 5, \r\n      imgSrc: firstElectronics, \r\n      category: 'electronic', \r\n      price: 100 \r\n    },\r\n  ]);\r\n\r\n  function loginUser(name, password) {\r\n    fetch(baseUrl)\r\n      .then((res) => res.json())\r\n      .then((users) => {\r\n        const user = users.find((user) => user.name === name && user.password === password);\r\n        if (user) {\r\n          setUser(user);\r\n          toast.success(`Welcome ${user.name}!`, { toastId: \"2\" }, { duration: \"1000\" });\r\n          navigate('/');\r\n        } else {\r\n          toast.error(\"Invalid credentials!\", { toastId: \"3\" }, { duration: \"1000\" });\r\n        }\r\n      });\r\n  }\r\n\r\n  const addToCart = (product) => {\r\n    setToCart((prevCarts) => {\r\n      // Check if the product already exists in the cart\r\n      const existingProduct = prevCarts.find((item) => item.id === product.id);\r\n      \r\n      if (existingProduct) {\r\n        // Update the quantity of the existing product\r\n        return prevCarts.map((item) => item.id === product.id ? { ...item, quantity: item.quantity + 1 } : item );\r\n      } else {\r\n        // Add the new product to the cart with a quantity of 1\r\n        return [...prevCarts, { ...product, quantity: 1 }];\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <UserContext.Provider\r\n      value={{\r\n        user,\r\n        carts,\r\n        products,\r\n        loginUser,\r\n        setUser,\r\n        setToCart,\r\n        addToCart,\r\n      }}\r\n    >\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n};\r\n\r\nexport default UserProvider;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}